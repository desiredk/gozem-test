(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3365],{35879:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/web/driver",function(){return i(91112)}])},91112:function(e,n,i){"use strict";i.r(n);var o=i(85893),s=i(67294),a=i(66242),l=i(86886),r=i(78445),t=i(44267),c=i(11057),d=i(5909),x=i(56456),m=i(13034),p=i(50613),h=i(87357),u=i(15861),g=i(21933),v=i(73262);let b={open:"secondary","picked-up":"info","in-transit":"warning",delivered:"success",failed:"error"},k={open:"Open","picked-up":"Picked Up","in-transit":"In Transit",delivered:"Delivered",failed:"Failed"},j=new m.Z,Z=()=>{var e,n;let[i,m]=(0,s.useState)("65ede1920a29450099c75566"),[Z,f]=(0,s.useState)(),_=async e=>{let n=await j.get(e);f(n)},W=e=>{v.s.send(JSON.stringify({event:"location_changed",delivery_id:i,location:e}))},y=e=>{v.s.send(JSON.stringify({event:"status_changed",delivery_id:i,status:e}))},w=async()=>{try{v.s.onopen=()=>{console.log("WebSocket connection opened")},v.s.onmessage=e=>{let n=JSON.parse(e.data);f(n.delivery_object),console.log("Received message:",n)},v.s.onclose=()=>{console.log("WebSocket connection closed")},v.s.onerror=e=>{console.error("WebSocket error:",e)}}catch(e){console.error("WebSocket connection error:",e)}console.log(" Je suis dedans ..................... ")};return(0,s.useEffect)(()=>{w()},[]),(0,o.jsx)(l.ZP,{container:!0,spacing:6.5,children:(0,o.jsx)(l.ZP,{item:!0,xs:12,children:(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(r.Z,{title:"Map"}),(0,o.jsxs)(t.Z,{children:[(0,o.jsxs)(l.ZP,{container:!0,spacing:6,children:[(0,o.jsx)(l.ZP,{item:!0,lg:10,md:10,sm:10,xs:8,children:(0,o.jsx)(x.Z,{fullWidth:!0,value:i,sx:{mb:4},onChange:e=>{m(e.target.value)},placeholder:"Enter Delivery ID"})}),(0,o.jsx)(l.ZP,{item:!0,lg:2,md:2,sm:2,xs:4,children:(0,o.jsx)(c.Z,{variant:"contained",sx:{width:"100%"},color:"success",onClick:()=>{_(i)},children:"Submit"})})]}),(0,o.jsxs)(l.ZP,{container:!0,spacing:6,children:[(0,o.jsx)(l.ZP,{item:!0,lg:4,md:4,sm:12,xs:12,children:(0,o.jsx)(h.Z,{sx:{display:"flex",alignItems:"center"},children:(0,o.jsxs)(h.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[(0,o.jsx)(u.Z,{noWrap:!0,sx:{mb:3,fontWeight:900,textDecoration:"none",color:"black"},children:"Package Details"}),(0,o.jsxs)(u.Z,{noWrap:!0,sx:{mb:1,fontWeight:500,textDecoration:"none",color:"warning.main"},children:["To Name : ",null==Z?void 0:Z.package.to_name]}),(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"secondary.main"},children:["To Address : ",null==Z?void 0:Z.package.to_address]}),(0,o.jsxs)(u.Z,{noWrap:!0,sx:{mb:1,fontWeight:500,textDecoration:"none",color:"warning.main"},children:["From Name : ",null==Z?void 0:Z.package.from_name]}),(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"secondary.main"},children:["From Address : ",null==Z?void 0:Z.package.from_address]}),(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"black"},children:["Weight : ",null==Z?void 0:Z.package.weight]}),(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"black"},children:["Width : ",null==Z?void 0:Z.package.width]}),(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"black"},children:["Height : ",null==Z?void 0:Z.package.height]}),(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"black"},children:["Depth : ",null==Z?void 0:Z.package.depth]}),(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"black"},children:["Description : ",null==Z?void 0:Z.package.description]}),(0,o.jsx)(u.Z,{noWrap:!0,sx:{mt:6,mb:3,fontWeight:900,textDecoration:"none",color:"black"},children:"Delivery Details"}),(0,o.jsxs)(u.Z,{noWrap:!0,sx:{fontWeight:500,textDecoration:"none",color:"primary.main"},children:["Status : :",(0,o.jsx)(p.Z,{rounded:!0,skin:"light",size:"small",label:k[null!==(e=null==Z?void 0:Z.status)&&void 0!==e?e:"open"],color:b[null!==(n=null==Z?void 0:Z.status)&&void 0!==n?n:"open"],sx:{textTransform:"capitalize"}})]}),(null==Z?void 0:Z.pickup_time)&&(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"warning.main"},children:["Pickup time : ",(0,g.o0)(null==Z?void 0:Z.pickup_time)]}),(null==Z?void 0:Z.start_time)&&(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"#00008b"},children:["Start time : ",(0,g.o0)(null==Z?void 0:Z.start_time)]}),(null==Z?void 0:Z.end_time)&&(0,o.jsxs)(u.Z,{noWrap:!0,variant:"body2",sx:{mb:1,color:"success.main"},children:["End time : ",(0,g.o0)(null==Z?void 0:Z.end_time)]})]})})}),(0,o.jsx)(l.ZP,{item:!0,lg:8,md:8,sm:12,xs:12,children:(0,o.jsxs)(l.ZP,{container:!0,spacing:6,children:[(0,o.jsx)(l.ZP,{item:!0,lg:8,md:8,sm:8,xs:12,children:(null==Z?void 0:Z.package.from_location)&&(0,o.jsx)(d.Z,{position1:null==Z?void 0:Z.package.from_location,position2:null==Z?void 0:Z.package.to_location,changeLocation:W,canChangeLocation:!0})}),(0,o.jsxs)(l.ZP,{item:!0,lg:4,md:4,sm:4,xs:12,children:[(0,o.jsx)(c.Z,{onClick:()=>{y("picked-up")},variant:"contained",sx:{mb:5,width:"100%"},color:"info",children:"Picked Up"}),(0,o.jsx)(c.Z,{onClick:()=>{y("in-transit")},variant:"contained",sx:{mb:5,width:"100%"},color:"warning",children:"In-Transit"}),(0,o.jsx)(c.Z,{onClick:()=>{y("delivered")},variant:"contained",sx:{mb:5,width:"100%"},color:"success",children:"Delivered"}),(0,o.jsx)(c.Z,{onClick:()=>{y("failed")},variant:"contained",sx:{mb:5,width:"100%"},color:"error",children:"Failed"})]})]})})]})]})]})})})};n.default=Z}},function(e){e.O(0,[3539,3404,9774,2888,179],function(){return e(e.s=35879)}),_N_E=e.O()}]);